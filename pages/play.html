<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ê²Œì„ í”Œë ˆì´ - í•˜ì´ í”Œë ˆì´ê·¸ë¼ìš´ë“œ</title>
  
  <!-- CSS -->
  <link rel="stylesheet" href="../assets/css/base.css">
  <link rel="stylesheet" href="../assets/css/theme.css">
  <link rel="stylesheet" href="../assets/css/components.css">
  <link rel="stylesheet" href="../shared/game-shell.css">
</head>
<body>
  <div id="game-area">
    <!-- Game Header -->
    <header id="game-header">
      <div class="game-header-left">
        <button id="btn-back" class="game-header-btn" title="ë’¤ë¡œ">â†</button>
      </div>
      <div class="game-header-center">
        <h1 id="game-title">ê²Œì„ ë¡œë”© ì¤‘...</h1>
      </div>
      <div class="game-header-right">
        <button id="btn-reset" class="game-header-btn" title="ë¦¬ì…‹">ğŸ”„</button>
        <button id="btn-fullscreen" class="game-header-btn" title="ì „ì²´í™”ë©´">â›¶</button>
        <button id="btn-mute" class="game-header-btn" title="ìŒì†Œê±°">ğŸ”Š</button>
      </div>
    </header>

    <!-- Game Stats (optional, can be hidden if game doesn't use it) -->
    <div id="game-stats" style="display: none;">
      <div class="game-stat">
        <div class="game-stat-label">ì ìˆ˜</div>
        <div class="game-stat-value" id="game-score">0</div>
      </div>
      <div class="game-stat">
        <div class="game-stat-label">ë ˆë²¨</div>
        <div class="game-stat-value" id="game-level">1</div>
      </div>
    </div>

    <!-- Game Container -->
    <div id="game-container">
      <div class="loading-container">
        <div class="spinner"></div>
        <p style="margin-top: var(--spacing-md);">ê²Œì„ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
      </div>
    </div>
  </div>

  <!-- JavaScript -->
  <script src="../assets/js/storage.js"></script>
  <script src="../assets/js/i18n.js"></script>
  <script src="../assets/js/analytics.js"></script>
  <script src="../assets/js/router.js"></script>
  <script src="../assets/js/app.js"></script>
  <script src="../shared/game-shell.js"></script>
  
  <script>
    // Page-specific script
    (async function() {
      await App.init();
      
      // Get game ID from URL parameter
      const urlParams = new URLSearchParams(window.location.search);
      const gameId = urlParams.get('id');
      
      if (!gameId) {
        alert('ê²Œì„ IDê°€ ì—†ìŠµë‹ˆë‹¤.');
        window.location.href = '../index.html';
        return;
      }
      
      // Verify game exists
      const game = App.getGameById(gameId);
      if (!game) {
        alert('ê²Œì„ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
        window.location.href = '../index.html';
        return;
      }
      
      // Initialize game shell
      await GameShell.init(gameId);
      
      // Track page view
      Analytics.trackPageView(`play:${gameId}`);
    })();
  </script>
</body>
</html>

