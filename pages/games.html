<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ê²Œì„ ëª©ë¡ - í•˜ì´ í”Œë ˆì´ê·¸ë¼ìš´ë“œ</title>
  
  <!-- CSS -->
  <link rel="stylesheet" href="../assets/css/base.css">
  <link rel="stylesheet" href="../assets/css/theme.css">
  <link rel="stylesheet" href="../assets/css/components.css">
</head>
<body>
  <!-- Navigation -->
  <nav class="nav">
    <div class="container nav-container">
      <a href="../index.html" class="nav-brand">ğŸ® í•˜ì´ í”Œë ˆì´ê·¸ë¼ìš´ë“œ</a>
      <ul class="nav-links">
        <li><a href="../index.html" class="nav-link">í™ˆ</a></li>
        <li><a href="games.html" class="nav-link">ê²Œì„</a></li>
        <li><a href="about.html" class="nav-link">ì†Œê°œ</a></li>
      </ul>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="container" style="padding: var(--spacing-xl) 0;">
    <h1 style="margin-bottom: var(--spacing-xl);">ê²Œì„ ëª©ë¡</h1>

    <!-- Filters -->
    <div class="filter-bar">
      <div class="filter-group">
        <label class="filter-label">ì¹´í…Œê³ ë¦¬:</label>
        <select id="filter-category" class="filter-select">
          <option value="all">ì „ì²´</option>
        </select>
      </div>
      
      <div class="filter-group">
        <label class="filter-label">ë‚œì´ë„:</label>
        <select id="filter-difficulty" class="filter-select">
          <option value="all">ì „ì²´</option>
          <option value="easy">ì‰¬ì›€</option>
          <option value="medium">ë³´í†µ</option>
          <option value="hard">ì–´ë ¤ì›€</option>
        </select>
      </div>
      
      <div class="filter-group">
        <label class="filter-label">ì •ë ¬:</label>
        <select id="filter-sort" class="filter-select">
          <option value="popular">ì¸ê¸°ìˆœ</option>
          <option value="new">ìµœì‹ ìˆœ</option>
        </select>
      </div>
    </div>

    <!-- Search Box -->
    <div class="search-box">
      <span class="search-icon">ğŸ”</span>
      <input type="text" id="search-input" class="search-input" placeholder="ê²Œì„ ê²€ìƒ‰...">
    </div>

    <!-- Games Grid -->
    <div class="grid grid-3" id="games-grid">
      <div class="loading-container">
        <div class="spinner"></div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer style="background-color: var(--color-bg-card); padding: var(--spacing-xl) 0; margin-top: var(--spacing-2xl); text-align: center; color: var(--color-text-light);">
    <div class="container">
      <p>&copy; 2024 í•˜ì´ í”Œë ˆì´ê·¸ë¼ìš´ë“œ. ëª¨ë“  ê¶Œë¦¬ ë³´ìœ .</p>
    </div>
  </footer>

  <!-- JavaScript -->
  <script src="../assets/js/storage.js"></script>
  <script src="../assets/js/i18n.js"></script>
  <script src="../assets/js/analytics.js"></script>
  <script src="../assets/js/router.js"></script>
  <script src="../assets/js/app.js"></script>
  <script src="../shared/ui.js"></script>
  
  <script>
    // Page-specific script
    (async function() {
      await App.init();
      
      const gamesGrid = document.getElementById('games-grid');
      const categoryFilter = document.getElementById('filter-category');
      const difficultyFilter = document.getElementById('filter-difficulty');
      const sortFilter = document.getElementById('filter-sort');
      const searchInput = document.getElementById('search-input');
      
      // Load categories for filter
      const categories = App.getCategories();
      categories.forEach(cat => {
        const option = document.createElement('option');
        option.value = cat.id;
        option.textContent = cat.name;
        categoryFilter.appendChild(option);
      });
      
      // Filter and render games
      function renderGames() {
        let games = App.getGames();
        
        // Apply search
        const searchQuery = searchInput.value.trim();
        if (searchQuery) {
          games = App.searchGames(searchQuery);
        }
        
        // Apply filters
        const filters = {
          category: categoryFilter.value,
          difficulty: difficultyFilter.value,
          sort: sortFilter.value
        };
        
        games = App.filterAndSortGames(games, filters);
        UI.renderGameCards(gamesGrid, games);
      }
      
      // Initial render
      renderGames();
      
      // Setup filter listeners
      categoryFilter.addEventListener('change', renderGames);
      difficultyFilter.addEventListener('change', renderGames);
      sortFilter.addEventListener('change', renderGames);
      
      // Setup search
      const handleSearch = UI.debounce(renderGames, 300);
      searchInput.addEventListener('input', handleSearch);
      
      // Track page view
      Analytics.trackPageView('games');
    })();
  </script>
</body>
</html>

