/* === 전체 레이아웃 (Dark Neon Theme) === */
.sn-wrapper {
    width: 100%; height: 100%;
    display: flex; flex-direction: column;
    background: #1e272e; font-family: 'Pretendard', sans-serif;
    position: relative; overflow: hidden; color: #fff;
    user-select: none;
}

/* 상단 정보바 */
.sn-header {
    background: #2f3640;
    display: flex; flex-direction: column;
    box-shadow: 0 4px 20px rgba(0,0,0,0.5);
    z-index: 10; padding: 15px 20px 0 20px; gap: 10px;
    border-bottom: 2px solid #353b48;
}

.sn-status-row {
    display: flex; justify-content: space-between; align-items: center;
    font-size: 1.1rem; font-weight: 800; color: #bdc3c7;
}
.sn-lives { color: #ff4757; letter-spacing: 3px; filter: drop-shadow(0 0 5px rgba(255, 71, 87, 0.5)); }

.sn-game-row {
    display: flex; justify-content: space-between; align-items: center;
    padding-bottom: 15px;
}

.sn-info-box { display: flex; align-items: center; gap: 10px; }
.sn-label { font-size: 0.9rem; color: #7f8c8d; font-weight: 700; letter-spacing: 1px; }
.sn-value { font-size: 2rem; font-weight: 900; color: #fff; text-shadow: 0 0 10px rgba(255,255,255,0.3); }
.sn-value.highlight { color: #00d2d3; text-shadow: 0 0 15px rgba(0, 210, 211, 0.6); }
.sn-value.timer { font-family: 'Courier New', monospace; min-width: 90px; text-align: right; color: #f1c40f; }
.sn-value.timer.danger { color: #ff4757; animation: pulse 0.5s infinite; }

/* 콤보 게이지 (추가됨) */
.sn-combo-bar {
    position: absolute; top: 85px; left: 0; width: 100%; height: 4px; background: #353b48;
}
.sn-combo-fill {
    height: 100%; width: 0%; background: #00d2d3;
    box-shadow: 0 0 10px #00d2d3; transition: width 0.1s linear;
}

/* 숫자판 그리드 */
.sn-grid {
    flex: 1; display: grid;
    grid-template-columns: repeat(var(--cols, 5), 1fr);
    gap: 10px; padding: 20px;
    width: 100%; max-width: 600px; margin: 0 auto; align-content: center;
}

/* 숫자 카드 (네온 스타일) */
.sn-card {
    background: #353b48; border: 2px solid #57606f; border-radius: 12px;
    display: flex; justify-content: center; align-items: center;
    font-size: 1.5rem; font-weight: 900; color: #bdc3c7;
    cursor: pointer; aspect-ratio: 1/1; 
    box-shadow: 0 4px 0 #2f3640; transition: all 0.1s;
    -webkit-tap-highlight-color: transparent;
}
.sn-card:active { transform: translateY(3px); box-shadow: 0 1px 0 #2f3640; filter: brightness(1.2); }
.sn-card.correct { 
    opacity: 0; pointer-events: none; transform: scale(1.2); 
    filter: drop-shadow(0 0 20px #00d2d3); background: #00d2d3;
}
.sn-card.wrong { 
    background-color: #ff4757; color: white; border-color: #ff4757; 
    animation: shake 0.3s; box-shadow: 0 0 20px #ff4757; 
}

/* 힌트 스타일 (Easy 모드용) */
.sn-card.hint-active { border-color: #f1c40f; color: #f1c40f; box-shadow: 0 0 10px rgba(241, 196, 15, 0.3); }

/* 오버레이 (다크 모드 기본) */
.sn-overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0, 0, 0, 0.9); backdrop-filter: blur(5px);
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    z-index: 100; opacity: 0; pointer-events: none; transition: opacity 0.3s;
}
.sn-overlay.active { opacity: 1; pointer-events: auto; }

.sn-msg-title { font-size: 3rem; font-weight: 900; margin-bottom: 15px; color: #fff; font-style: italic; }
.sn-msg-sub { font-size: 1.3rem; margin-bottom: 40px; color: #00d2d3; text-align: center; line-height: 1.6; }

.sn-btn-group { display: flex; flex-direction: column; gap: 15px; width: 280px; }

.sn-btn {
    padding: 18px; border: none; border-radius: 50px;
    font-size: 1.2rem; font-weight: 900; cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s; color: #1e272e;
    text-transform: uppercase; letter-spacing: 1px;
}
.sn-btn:hover { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.5); }

.btn-easy { background: #2ecc71; box-shadow: 0 5px 0 #27ae60; }
.btn-normal { background: #3498db; box-shadow: 0 5px 0 #2980b9; }
.btn-hard { background: #e74c3c; box-shadow: 0 5px 0 #c0392b; color: white; }
.btn-action { background: #f1c40f; box-shadow: 0 5px 0 #f39c12; width: 100%; }

/* 이펙트 레이어 */
#fx-layer { position: absolute; width: 100%; height: 100%; pointer-events: none; }
.float-score {
    position: absolute; font-weight: 900; font-size: 1.5rem; color: #00d2d3;
    animation: floatUp 0.6s ease-out forwards; text-shadow: 0 0 10px rgba(0,210,211,0.8);
}

@keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }
@keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.1); opacity: 0.8; } 100% { transform: scale(1); opacity: 1; } }
@keyframes floatUp { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(-50px) scale(1.5); opacity: 0; } }