@import url('https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;700;900&display=swap');

/* 전체 래퍼 (반응형 박스) */
.gd-wrapper {
  width: 100%; height: 100%;
  display: flex; justify-content: center; align-items: center;
  background: #222; color: #fff;
  font-family: 'Rajdhani', sans-serif;
  overflow: hidden; user-select: none;
}

/* 게임 화면 (16:9 비율 유지) */
.gd-screen {
  width: 100%; max-width: 100%;
  aspect-ratio: 16 / 9;
  max-height: 100%;
  position: relative;
  background-color: #388E3C; /* 잔디색 */
  display: flex; flex-direction: column;
  box-shadow: 0 0 30px rgba(0,0,0,0.5);
  overflow: hidden;
}

/* 상단 헤더 */
.gd-header {
  flex: 0 0 8%; /* 높이 비율 */
  display: flex; justify-content: space-between; align-items: center;
  padding: 0 2%; background: rgba(0,0,0,0.6);
  z-index: 10; border-bottom: 2px solid rgba(0,0,0,0.3);
}
.gd-stat { display: flex; align-items: center; gap: 8px; font-size: 1.2rem; font-weight: bold; text-shadow: 1px 1px 2px #000; }
.gd-wave-badge { background: #e91e63; padding: 2px 8px; border-radius: 4px; font-size: 1rem; }

/* 게임 영역 (캔버스) */
.gd-game-area {
  flex: 1; position: relative; overflow: hidden;
  cursor: crosshair;
}
canvas { display: block; width: 100%; height: 100%; }

/* 툴팁 (타워 정보) */
.gd-tooltip {
  position: absolute; background: rgba(0,0,0,0.9); color: white;
  padding: 8px 12px; border-radius: 6px; pointer-events: none;
  font-size: 0.9rem; display: none; z-index: 50; border: 1px solid #aaa;
  white-space: pre-line; text-align: left;
}

/* 하단 컨트롤러 */
.gd-controls {
  flex: 0 0 15%; /* 높이 비율 */
  display: flex; align-items: center; justify-content: center;
  background: rgba(0,0,0,0.8); border-top: 2px solid #555; gap: 10px;
  padding: 0 10px; z-index: 10;
}

/* 타워 슬롯 */
.gd-tower-slot {
  width: 10%; height: 80%;
  border: 2px solid #555; border-radius: 8px;
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  cursor: pointer; background: #333; position: relative;
  transition: all 0.1s;
}
.gd-tower-slot.selected { border-color: #00ff00; background: #444; transform: translateY(-3px); box-shadow: 0 0 10px #00ff00; }
.gd-tower-slot.disabled { opacity: 0.4; filter: grayscale(1); cursor: not-allowed; }
.gd-tower-icon { font-size: 1.8rem; }
.gd-tower-count { 
  position: absolute; top: -5px; right: -5px; 
  background: red; color: white; border-radius: 50%; 
  min-width: 20px; height: 20px; font-size: 0.8rem; padding: 2px;
  display: flex; justify-content: center; align-items: center; font-weight: bold;
}

/* 버튼 스타일 */
.gd-btn {
  height: 60%; background: #2196F3; color: white; border: none; 
  padding: 0 20px; font-size: 1.1rem; border-radius: 6px; cursor: pointer; 
  font-weight: bold; font-family: 'Rajdhani'; transition: transform 0.1s;
  box-shadow: 0 4px 0 #1565C0;
}
.gd-btn:active { transform: translateY(4px); box-shadow: none; }
.gd-btn.speed { background: #FF9800; box-shadow: 0 4px 0 #F57C00; width: 60px; padding: 0; }

/* 카드 드래프트 모달 */
.gd-modal {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0,0,0,0.85); backdrop-filter: blur(5px);
  display: flex; flex-direction: column; justify-content: center; align-items: center;
  z-index: 100; opacity: 0; pointer-events: none; transition: opacity 0.3s;
}
.gd-modal.active { opacity: 1; pointer-events: auto; }

.gd-card-container { display: flex; gap: 20px; margin-top: 30px; flex-wrap: wrap; justify-content: center; }
.gd-card {
  width: 160px; height: 240px; 
  background: linear-gradient(135deg, #1e3c72, #2a5298);
  border: 2px solid #fff; border-radius: 12px; padding: 15px;
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  text-align: center; cursor: pointer; transition: transform 0.2s; 
  box-shadow: 0 10px 20px rgba(0,0,0,0.5); position: relative; overflow: hidden;
}
.gd-card:hover { transform: scale(1.05) translateY(-10px); border-color: #ffd700; box-shadow: 0 0 20px #ffd700; }
.gd-card-icon { font-size: 3.5rem; margin-bottom: 15px; }
.gd-card-title { font-size: 1.1rem; font-weight: 900; margin-bottom: 10px; color: #fff; text-transform: uppercase; }
.gd-card-desc { font-size: 0.85rem; color: #ddd; line-height: 1.4; }
.gd-card-type { 
  position: absolute; top: 5px; left: 5px; font-size: 0.7rem; 
  background: rgba(0,0,0,0.5); padding: 2px 6px; border-radius: 4px; color: #aaa;
}

/* 타워 업그레이드 메뉴 (인게임 팝업) */
.gd-upgrade-menu {
  position: absolute; background: white; color: black;
  padding: 10px; border-radius: 8px; border: 2px solid #333;
  display: none; flex-direction: column; gap: 5px; z-index: 40;
  box-shadow: 0 5px 15px rgba(0,0,0,0.3); text-align: center;
}
.gd-up-btn {
  background: #4CAF50; color: white; border: none; padding: 5px 10px;
  cursor: pointer; border-radius: 4px; font-weight: bold; font-size: 0.9rem;
}
.gd-up-btn.sell { background: #f44336; }